#summary Namecheap.com WHMCS SSL Module (SSL Plugin)

= Namecheap.com WHMCS SSL Module (v 1.2.1) =
----
<font size=3px>* Note:*</font> <font size=2.5px>_Due to bugs in WHMCS version 4.5.1, some activation issues may take place. Please make sure you update your WHMCS to version 4.5.2 to use current SSL module without errors. _</font>


----
===Updated on Apr 8, 2012 to Version 1.2.1  ===

  *  Additional compatibility with WHMCS 5.x version added.
 [http://code.google.com/p/namecheap/wiki/ReleaseNotesForWHMCSSSL View Release Notes]

===What’s New in Module v 1.2.1 ===

We have introduced 3 new functionalities within this latest update, which includes reissue of Comodo certificates from WHMCS client area, synchronization ofcertificate changes such as due dates and reissue states with Namecheap backend and functionality to view certificate details (such as Namecheap Certificate ID, Order ID, Status etc.)

===So let’s get started…===

Namecheap.com SSL module for WHMCS is an open-source plugin that is distributed free of charge. This module allows you
to automate SSL Certificate sales with the Namecheap platform. This allows you to offer the following types of SSL certificates:

*!GeoTrust Cerificates:*
  * RapidSSL
  * RapidSSL Wildcard
  * !GeoTrust QuickSSL
  * !GeoTrust QuickSSL Premium
  * !GeoTrust True BusinessID with EV
  * !GeoTrust TrueBusinessID
  * !GeoTrust TrueBusinessID !WildCard

* Comodo Certificates:*

  * Comodo PositiveSSL
  * Comodo PositiveSSL Wildcard
  * Comodo InstantSSL
  * Comodo InstantSSL Pro (new)
  * Comodo PremiumSSL 
  * Comodo PremiumSSL Wildcard (new)
  * Comodo EssentialSSL (new)
  * Comodo EssentialSSL Wildcard (new)
  * Comodo EV SSL (new)
  * Comodo EV SGC SSL (new)


*!VeriSign Certificates:*
  
  * !VeriSign Secure Site
  * !VeriSign Secure Site Pro
  * !VeriSign Secure Site EV
  * !VeriSign Secure Site Pro EV

----
<font size=3px>* Note:*</font> <font size=2.5px>_ Thawte SSL Certificates are not supported by the API as of today, even though they are available for selection in the module. Attempting to purchase and activate Thawte Certificates will result in an error. _</font>


----

=== Pre-requisites ===

  * Access to WHMCS admin area. 
  * An understanding of [http://www.namecheap.com/support/api/api.aspx Namecheap’s environments]. 
  * Namecheap account with API access enabled on the desired environment. 

----
<font size=3px>* Note:*</font> <font size=2.5px>_Namecheap has a production as well as a test server environment. The test server environment is called Sandbox. We urge you to test the plug-in in our [http://www.sandbox.namecheap.com/ sandbox environment], before pointing it to production. For more detailed information, please [http://www.namecheap.com/support/api/api.aspx  visit the developer's site]. _</font>


----

===Sandbox limitations===

Activation process in Sandbox works only for the following SSL Certificates:

*!GeoTrust Cerificates:*
  * RapidSSL
  * !GeoTrust QuickSSL
  * !GeoTrust QuickSSL Premium
  * !GeoTrust True BusinessID with EV
  * !GeoTrust TrueBusinessID
  * !GeoTrust TrueBusinessID !WildCard

*!VeriSign Certificates:*
  * !VeriSign Secure Site
  * !VeriSign Secure Site Pro
  * !VeriSign Secure Site EV
  * !VeriSign Secure Site Pro EV

== Download and Installation ==
1. Download the latest plugin (namecheapssl-whmcs-versionX.X.X.zip) archive and extract it. In the archive you will find 3 folders: 
  *  namecheapssl-module-v1.2.1
  *  namecheapssl-addon-v1.2.1
  *  namecheapssl-hook-v1.2.1

2. *Install Module*. Create a folder called ‘*namecheapssl *’  under */modules/servers/* in your WHMCS root directory and paste the content of the folder namecheapssl-module-v1.2 into */modules/servers/namecheapssl/*. To finalize the installation please go to http://yourdomain.com/modules/servers/namecheapssl/install.php (given you have WHMCS installed on http://yourdomain.com/. If you have it installed on http://yourdomain.com/whmcs/ then you will need to go to http://yourdomain.com/whmcs/modules/servers/namecheapssl/install.php and so on).The SSL Module installation is now complete.

3. *Install Hook*. Paste the content of the folder namecheapssl-hook-v1.2 inside */includes/hooks/* in your WHMCS root directory. The SSL ModuleHook installation is complete now.

4. *Install Addon*. Create a folder called '*namecheapssl *' under */modules/admin/* in your WHMCS root directory and paste the content of the folder namecheapssl-addon-v1.2 inside the folder. Now please go to ‘Setup >Addon Modules’ in your WHMCS Admin area and activate the addon. Then go to http://yourdomain.com/admin/addonmodules.php?module=namecheapssl (given you have WHMCS installed on http://yourdomain.com/). The SSL Module Addon installation is now complete.

== Setting up the Product and Configuration ==

To setup an SSL certificate product, please follow the steps below:

1. Create a product as normal - name, description, no domain options, etc.

2. Ensure the welcome email is set to "None" in the dropdown menu on the Details tab, as the module sends its own email.

3. In this version, the module billing cycles and SSL validity period are configured via standard WHMCS “Products/Services” settings. To access this, go to the _Pricing_ tab and select _Payment Type to Recurring_. Now disable _“One Time/Monthly”_, _“Quarterly”_ and _“Semi-Annualy”_ billing cycles since they are not applicable to SSL Certificates. Finally, specify prices for remaining billing cycles. _“Annually”_ corresponds to 1 year of SSL certificate validity (i.e. the SSL will be registered for 1 year). Biennially and triennially refer to 2 and 3 years respectively.

  http://files.namecheap.com/images/googlecode/product-setup-and-configuration.jpg

4. On the _Module Settings_ tab, choose _"Namecheapssl"_ from Module Name dropdown menu.

5. Enter your API credentials. If you wish to test this module in sandbox environment, make sure to enter your sandbox username, sandbox API key in the corresponding text fields. Also, be sure to check the _“Test Mode”_ box.

6. Choose the certificate type from the drop-down menu.

7. If you have a special _“Promotion Code”_, type it into the corresponding text field.

8. If _“Use existing SSL from account”_ option is checked we will try to use an existing SSL certificate of this type from your Namecheap account first. If there is no SSL available that can be used, a new certificate will be purchased.

9. The purpose of the next set of fields is to customize the *Technical Contact Details* for any purchased SSL Certificates (fields are shown on a screens shot below). By default, Namecheap Contact details are used (email address sslsupport@namecheap.com). Using a custom Technical Contact Details is useful for resellers who wish to appear as
an independent business entity to their customers. Depending on whether you want to use custom Technical Contact Details or not, perform the corresponding action:

  * In order to use *Default Technical Email* leave ALL of the fields below empty.
  * If you wish to use *Custom Technical Email* fill in ALL of the fields below.

  http://files.namecheap.com/images/googlecode/customizing-technical-contact-details.jpg

*Note:* Our ability to provide support to customers who use custom **Technical Contact Fields** is limited. In case custom technical contact details are used, we cannot perform reissues, resending of approver email/ certificate, or cancellation/revocation of !GeoTrust and !VeriSign SSL Certificates. However, since you possess control over technical contact, you can access !GeoTrust/!VeriSign Live Account and perform these required actions yourself.

For control of !GeoTrust SSLs, please visit:
https://products.geotrust.com/orders/orderinformation/authentication.do

For control of !VeriSign SSLs, please visit:
https://products.verisign.com/orders/orderinformation/authentication.do


==== Multiple Years ====
In this version of the module, certificate validity periods are configured via billing cycles. See item #3 from the previous section
for more information.

*Note:* If there are any _Configurable Options_ left from any previous versions of the Namecheap SSL Module, please delete
them as they may cause errors.

==== The Order Process ====

The product will appear in the order process as a regular product which can be added to the cart. No configuration is performed before purchase. Once a certificate is purchased, paid for, and activated, the user is sent an email containing a link which takes them to configure the certificate in the client area. Once all details have been provided, the configuration data is sent to the Certificate Authority for validation. No manual intervention is required from you.

==== Certificate Configuration ====

You have an option to resend an email containing a link to the certificate configuration page to the client. This page is also
accessible from the client area (My Products & Services -> Product Details -> View Certificate Details). Options to resend
approver email and email with the certificate issued are also available in the client area.

==== Debugging Mode ====
Special debugging mode was added in release v 1.2. Enabling this mode will cause logging of all API related events using the NamecheapSSL Module Addon. Debugging mode is WHMCS products specific, so that you can activate it for specific products. Normally you should keep this mode disabled. Enable it only when advised by Namecheap Support team.
To enable it go to “Products/Services” settings and check the box “Debug Mode”:

  http://files.namecheap.com/images/googlecode/debug-mode.jpg

Now all Namecheap API related events will be logged by NamecheapSSL Moduleaddon:

  http://files.namecheap.com/images/googlecode/namecheapssl-addon.jpg

==== Welcome/Configuration Email ====
On its first launch, Namecheap SSL module automatically creates a configuration email template (see “SSL Certificate Configuration Required” in section "Product Messages" of **Email Templates** in **Setup**). It contains link to activation process inside your client area for a specific SSL certificate.

Sending of SSL Configuration Email is controlled by the following parameters:

Type of product setup behavior in Module Settings tab:

http://files.namecheap.com/images/googlecode/product-setup-behaviour-type.jpg

1. Configuration email is always sent for options “Automatically setup the product as soon as an order is placed” and “Automatically setup the product as soon as the first payment is received”.

2. If the options “Automatically setup the product when you manually accept a pending order” or “Do not automatically setup this product” are selected, then sending of the Configuration Email will depend on the box “Send Welcome Email”:

  http://files.namecheap.com/images/googlecode/welcome-email.jpg


You can modify content of the configuration email at any time. 

==== Renewal ====

In version 1.1.4 and above, renewal functionality is fully integrated into the module. As long as you have “Payment Type” set to “Recurring” when creating a product, invoices for renewals will be generated automatically. Once paid, renewal SSLs will be created automatically as well. Please keep in mind that after the renewal SSL is created, it still requires activation using [http://namecheap.simplekb.com/kb.show?show=article&articleid=817&categoryid=71 renewal CSR].
 
==== Renew SSL Certificates Created with Previous Versions of the Module ====

Should you need to renew an SSL certificate purchased with a previous version of the module, please ask your clients to place
a new order when the certificate is due for renewal and use [http://namecheap.simplekb.com/kb.show?show=article&articleid=817&categoryid=71 renewal CSR] during configuration.

==== Reissue ====
Go to ‘Clients Profile > Products and Services’

  http://files.namecheap.com/images/googlecode/reissue-certificate.jpg

Clicking reissue will send an email to a customer with a subject ‘SSL Certificate Reissue Invitation’. The email contains a link to proceed with reissue.
Certificate status changes to ‘Awaiting configuration’.
‘Reissue Certificate’ is also available from customer’s end in client 
area. This feature is shown for active certificates only:

  http://files.namecheap.com/images/googlecode/reissue-comodo-certificate.jpg

Clicking this button makes all _Comodo_ certificates status change to ‘Awaiting configuration’; as for other brands, you will be redirected to a corresponding certificate authority reissue page. 
To complete the process, please follow the instructions from the confirmation email sent by a certificate authority.
Reissuing a certificate will change its Namecheap Certificate ID.

==== Synchronize due date and reissue state ====
All changes done in WHMCS are synchronized with your Namecheap account automatically once a day (when WHMCS cron runs). Also you can perform manual synchronization any time by clicking ‘Synchronize due date and reissue state’. This will set WHMCS due dates and reissue states in sync with Namecheap admin area when needed:

  http://files.namecheap.com/images/googlecode/sync-due-date-and-reissue.jpg

==== View Details ====
Now you can also view certificate details from a client’s profile ‘Products and Services’ tab.

  http://files.namecheap.com/images/googlecode/view-details.jpg

Here you can check certificate status, status descriptions, certificate type, view CSR in raw format and decoded, see issuance and expiration date, etc.

  http://files.namecheap.com/images/googlecode/view-csr-details.jpg

Each successful operation is confirmed by ‘Module Command Success’ message.

== Support ==
Please use the [http://code.google.com/p/namecheap/issues/list Issues page] to report bugs and provide feedback. Alternatively, you can also [http://support.namecheap.com/ submit a ticket] for assistance.